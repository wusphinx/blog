---
title: 我与EP的缘份
date: 2020-11-17 16:48:49
categories: 
- DevOps
tags:
- DevOps
- EP
---

EP亦即**Engine Productivity**的英文缩写，很多公司其称之为**研发效能**，我有幸在两家公司的效能小组效力过，以致于我在工作中会有一些习惯，比如自己搭建的k8s集群叫`ep`，测试环境容器化部署的环境变量也叫`ep`……，坦白讲，对这个职能背后的工作内容确实是有一些新鲜感，我的内心对`EP`更多的是敬畏之心。

记得去年初，因为厌倦了业务后端的开发工作，同时也有互联网从业人员的焦虑之心，更深一层，是因为在后端呆了四年，固然有运气的原因，不过还没有混到管理岗位这件事，让我对自身的能力产生了不自信，所以阴差阳错的，从成都来到杭州，进到了C公司质量部门的效能小组，title是资深测试开发工程师，所以其实这个效能是为测试服务的，不过真正做的事情，那就仁者见仁，智者见智了。


我接到的第一个任务做一个移动端APP自动化测试平台。我经过调研，了解到了Appium、Macaca、NoSmoke、Airtest、Fastmonkey等框架和工具，几乎把移动端的测试工具玩了个遍，甚至自己去写页面的深度遍历，写技术方案，最后我得出了一个结论：所谓的自动化并不能真正提高效率，而只是将大家手机测试任务归类、统一，或者说最后其实需要的是一个手机无接触测试管理平台。后续因为手机端日志平台以及其它原因，此事就此搁置了，于是，我又被分派去和另一个小伙伴做测试环境的容器化推进了。也就是在做这件事的过程中，我接触到了k8s，以为自己也有机会去推进DevOps文化，结果处处碰壁。首先遇到的是k8s的安装方案，要不要自己开发k8s的PaaS平台，当时我根据个人的经验判断是不需要，原因是人力不足以及有开源的Rancher可以用，不过另外一个同事已经投入了不少精力在PaaS平台上，所以我转而去推动容器化的设计和落地上了。当然，遇到的问题是，容器化并不算是真正的需求，只是测试团队一厢情愿想的想法，当时运维团队也在做容器化，差别就在于他们不碰业务，而我们要自己去做业务，部署到k8s中，调通，然后测试，这些都是琐碎的体力活，整个过程就不太顺利，因为容器化需要各方协作，但是容器化的整体意愿不是很强烈，加上部门墙的原因，进度是比较慢的；后来又遭遇部门领导离开，新来的领导并不看好测试部门来做容器化，明面上不反对，但也支持继续下去；在此情况下，有一同事离职，我需要兼顾她留下来的工作：安全平台，经过一番了解，这套平台是基于sonarqube来做的，参与的人还挺多，不过，从设计上看，是自己做了一套平台，底下还是sonarqube，换了一层皮，做了一些翻译和统计以及计分系统，以我做开发的感觉，使用上反而更复杂，当时就觉得这个平台是比较功利的，并没有解决啥问题，不过，因为参与人数众多，也不得不硬着头皮往下做。因为这些工作内容上的变化，感觉到自己做的事情没有太大意义，虽然测试部门做一个平台是一个亮点，但于我而言，对工作本身并没有认同感、自豪感，这份工作无法激起我的热情，于是心生去意，带着对容器化的热情，对自己这次转型的不满，毅然裸辞了。现在回过头来看，并非完全没有收获，接触到了那么多不同的领域，不一样的技术，也做了不少尝试，质量部门的效能理应优先对测试负责，虽然在我看来，格局略小。

今年8月，入职了W公司的技术保障中心的**EP**效能组，同样地，怀着一颗赤诚之心，我想大干一场。接到的活也是做一个平台：监控报警平台，公司内部本身有一套基于Zabbix的监控报警平台，是用Java写的，不过因为部门同时也在做容器化落地的事情，希望监控能用Prometheus来替代，所以其实是重写原有的监控报警平台，当时以为没有历史负担真好，因为需求已经定下来，于我而言，做实现就好了。于是乎，对Prometheus的生态做了一番调研，在测试环境自己使用，出服务设计方案，搭建环境等。当我深入其中，心头疑惑却越来越重，我要做的平台其实是一个运维主机监控平台（一期），从这个角度上来讲，没有这个平台，也可以完成目标，那做这一套的意义在哪呢？带着这个疑问，我去找了一些人，得到的回复是：主机监控最终是想开放给开发者用（因为当时还没有容器化，服务还是部署在主机中，主机与服务的关系是多对多），当然，我还了解到我所以在的部门，以前是运维部门，因为少有运维具备开发能力，于是招了一些开发，最终合并成了技术保障中心这个大部门。
于是，我明白了，效能并不是真的效能，说起来，只是运维的开发，怪不得领导经常打趣说运维是我们的*甲方*。所以才会有Nginx配置平台以及我做的监控报警平台，这些平台说是给运维做的GUI平台，可能有点夸张，但从效果上看，确实如此。在做这套平台的过程中，我花了一些时间研究GitOps和优化公司持续集成的方法，不过可惜的是，这些都还没有来的及实施，我就“离职”了。离职发生在我做入职答辩的那天，毫无征兆地，HR说我的答辩没有通过，由于公司没有多余的HC，限为本周五离职，当时我就惊呆了，甚至于觉得非常耻辱，我还是第一次遇到这种状况。我们老大找到我说，他之前也不知道，是因为公司打算上市，在做一些优化，也可能是安慰的话。我没有过多纠缠，也没有做申辩，只是觉得既然此处不欢迎我，那也没有呆下去的必要的，也不必再争取什么，果然在OA上提了离职。

![ep](/images/ep.jpeg)
这两次呆在EP团队的经历，称不上有多愉快，甚至于对自身产生了一些怀疑，因为这些，换工作突然变得频繁，但我本身并没有那么不安份。回想起来，我只是想**做正确的事**，但没有**正确的做事**，这两者，也并非绝对对立，对于EP，我的敬畏之心仍在，甚至更甚从前，是它让我了解到，工作不能只限于眼前，同能不能好高骛远，找到真正有价值的情况，优先解决主要矛盾，获取信任，努力解决别人的问题，就能不断拓展自己的业务边界。

如果时间倒流，在C公司，我会花更多时间去了解各方真正的痛点，与上下达到目标的一致性，而不只是埋头做事；在W公司，我会争取平台最小化实现，推而广之，让真正的使用群众投票，再不生无效的疑问，抱无畏的希望。但是，没有如果，即使那么做了，也只是在做一份工作，并没有真正的**EP**。工作中的价值跟意义，或许，并没有那么重要吧，但是，心中还是会保留着一丝希望，这，是不是就是那份初心？


参考：
- https://sq.163yun.com/blog/article/224315717234970624
- https://landing.google.com/engprod/